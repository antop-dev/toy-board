<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <title>게시판 관리</title>
</head>
<body>
<th:block layout:fragment="content">
    <header class="mb-4">
        <h1 id="page-title" class="text-3xl font-bold text-gray-900">게시판 등록</h1>
        <p class="text-gray-500 mt-1">새로운 게시판을 등록하거나 기존 게시판 정보를 수정합니다.</p>
    </header>

    <section id="board-form-section" class="bg-white p-6 rounded-lg shadow-md">
        <form id="form" method="post" th:action="@{/category/submit}">
            <!--/* 수정 모드일 경우 boardId를 위한 hidden input */-->
            <input type="hidden" name="id" th:value="${category?.id}">

            <div class="space-y-4">
                <!--/* 게시판명 입력 필드 */-->
                <div>
                    <label for="name" class="block text-sm font-medium text-gray-700 mb-1">게시판명</label>
                    <input type="text" id="name" name="name" required
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"
                           placeholder="게시판명을 입력하세요" th:value="${category?.name}">
                </div>

                <!--/* 상태 선택 드롭다운 */-->
                <div>
                    <label for="status" class="block text-sm font-medium text-gray-700 mb-1">상태</label>
                    <select id="status" name="status"
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm h-[38px]">
                        <option value="1">활성화</option>
                        <option value="2" th:selected="${#strings.equals(category?.statusCode, '2')}">비활성화</option>
                        <option value="3" th:selected="${#strings.equals(category?.statusCode, '3')}">보관</option>
                    </select>
                </div>
                <!--/* 기능 ON/OFF 체크박스 */-->
                <div>
                    <div class="block text-sm font-medium text-gray-700 mb-2">기능 설정</div>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="flex items-center">
                            <input type="checkbox" id="featureWrite" name="featureWrite" class="mr-2"
                                   th:checked="${category?.featureWrite}">
                            <label for="featureWrite" class="text-sm text-gray-900">글 작성</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="featureSecret" name="featureSecret" class="mr-2"
                                   th:checked="${category?.featureSecret}">
                            <label for="featureSecret" class="text-sm text-gray-900">비밀글</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="featureFile" name="featureFile" class="mr-2"
                                   th:checked="${category?.featureFile}">
                            <label for="featureFile" class="text-sm text-gray-900">파일 업로드</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="featureReply" name="featureReply" class="mr-2"
                                   th:checked="${category?.featureReply}">
                            <label for="featureReply" class="text-sm text-gray-900">답글</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="featureComment" name="featureComment" class="mr-2"
                                   th:checked="${category?.featureComment}">
                            <label for="featureComment" class="text-sm text-gray-900">코멘트</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="featureVote" name="featureVote" class="mr-2"
                                   th:checked="${category?.featureVote}">
                            <label for="featureVote" class="text-sm text-gray-900">투표 (좋아요/싫어요)</label>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="featureShare" name="featureShare" class="mr-2"
                                   th:checked="${category?.featureShare}">
                            <label for="featureShare" class="text-sm text-gray-900">공유하기</label>
                        </div>
                    </div>
                </div>
                <!--/* 폼 액션 버튼 */-->
                <div class="flex justify-end gap-2 mt-4">
                    <button type="submit"
                            class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition">저장
                    </button>
                    <a th:href="@{/category/list.html}"
                       class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition">취소</a>
                </div>
            </div>
        </form>
    </section>
</th:block>
</body>
</html>
